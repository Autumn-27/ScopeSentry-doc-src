import{_ as e}from"./docker-run-C2jl39bg.js";import{_ as t,o as n,c as a,e as s}from"./app-D2FW6laf.js";const i={},o=s(`<div class="hint-container tip"><p class="hint-container-title">Tips</p><p>If you forget your password, enter the Mongodb database and modify the password in the user table to b0ce71fcbed8a6ca579d52800145119cc7d999dc8651b62dfc1ced9a984e6e64</p></div><p>The system is divided into four services:</p><ul><li>web/server side - used for asset management, task management, etc.</li><li>scan side - used for scanning, can be deployed on multiple machines</li><li>Mongodb-database, as long as web and scan can connect to this database.</li><li>redis-redis, as long as web and scan can connect to this redis.</li></ul><h2 id="single-machine-deployment" tabindex="-1"><a class="header-anchor" href="#single-machine-deployment"><span>Single machine deployment</span></a></h2><div class="hint-container tip"><p class="hint-container-title">Tips</p><p>The compose configuration file for single machine deployment already contains the database image, you only need to modify the account and password of mongodb and redis. Due to network problems of some machines (not clear where the problem is for the time being), the temporary solution for scan&#39;s docker is to set network_mode to host, so scan&#39;s docker can use 127 to access the database without changing.</p></div><p>Do not use special symbols such as @ in the database password.</p><p>The database and redis will be mounted in the data folder of the project&#39;s root directory. If the password has been set once and the data folder has been generated, the password will not change. If you rebuild it later, you can pay attention to this issue to prevent the password from being changed and not taking effect.</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>git clone https://github.com/Autumn-27/ScopeSentry.git</span></span>
<span class="line"><span>cd ScopeSentry</span></span>
<span class="line"><span># Modify the account and password of mongodb and redis in the .env file.</span></span>
<span class="line"><span>docker-compose -f single-host-deployment.yml up -d</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Four containers in total after running</li><li>scope-sentry (server-web interface)</li><li>scopesentry-scan (scanner)</li><li>Mongodb (database)</li><li>Redis</li></ul><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>View the initial user password and the secondary verification password of the plug-in</span></span>
<span class="line"><span>docker logs scope-sentry</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>Then visit IP:8082</p><p>That&#39;s all for single-machine deployment. Change the account password and start docker with one command <img src="`+e+'" alt="alt text"></p><p>After single-machine deployment, if you want to run the scanning node on other machines, you only need to run scan separately and fill in the database address with the IP of the machine where the single-machine deployment is performed.</p><h2 id="data-migration" tabindex="-1"><a class="header-anchor" href="#data-migration"><span>Data migration</span></a></h2><p>In the docker configuration file of the database, there is a mount directory setting. The default is the data directory of the current running directory. When migrating data, just migrate the file.</p>',15),d=[o];function r(c,l){return n(),a("div",null,d)}const h=t(i,[["render",r],["__file","index.html.vue"]]),u=JSON.parse(`{"path":"/en/guide/y0qsb5ks/","title":"Single-machine deployment","lang":"en-US","frontmatter":{"title":"Single-machine deployment","author":"Autumn","createTime":"2024/11/17 20:01:03","permalink":"/en/guide/y0qsb5ks/","icon":"mdi:server-outline","description":"Tips If you forget your password, enter the Mongodb database and modify the password in the user table to b0ce71fcbed8a6ca579d52800145119cc7d999dc8651b62dfc1ced9a984e6e64 The sy...","head":[["script",{"id":"check-dark-mode"},";(function () {const um= localStorage.getItem('vuepress-theme-appearance') || 'dark';const sm = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;if (um === 'dark' || (um !== 'light' && sm)) {document.documentElement.classList.add('dark');}})();"],["script",{"id":"check-mac-os"},"document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))"],["link",{"rel":"alternate","hreflang":"zh-cn","href":"https://www.scope-sentry.top/guide/y0qsb5ks/"}],["meta",{"property":"og:url","content":"https://www.scope-sentry.top/en/guide/y0qsb5ks/"}],["meta",{"property":"og:site_name","content":"ScopeSentry"}],["meta",{"property":"og:title","content":"Single-machine deployment"}],["meta",{"property":"og:description","content":"Tips If you forget your password, enter the Mongodb database and modify the password in the user table to b0ce71fcbed8a6ca579d52800145119cc7d999dc8651b62dfc1ced9a984e6e64 The sy..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://www.scope-sentry.top/images/docker-run.png"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:locale:alternate","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-11-17T14:50:57.000Z"}],["meta",{"property":"article:author","content":"Autumn"}],["meta",{"property":"article:modified_time","content":"2024-11-17T14:50:57.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Single-machine deployment\\",\\"image\\":[\\"https://www.scope-sentry.top/images/docker-run.png\\"],\\"dateModified\\":\\"2024-11-17T14:50:57.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Autumn\\"}]}"]]},"headers":[{"level":2,"title":"Single machine deployment","slug":"single-machine-deployment","link":"#single-machine-deployment","children":[]},{"level":2,"title":"Data migration","slug":"data-migration","link":"#data-migration","children":[]}],"readingTime":{"minutes":1.32,"words":397},"git":{"updatedTime":1731855057000,"contributors":[{"name":"Autumn.home","email":"autumn@home.com","commits":1}]},"autoDesc":true,"filePathRelative":"en/notes/guide/Install/single.md","categoryList":[{"type":10000,"name":"notes"},{"type":10001,"name":"guide"},{"type":10003,"name":"Install"}]}`);export{h as comp,u as data};
