import{_ as e}from"./image-1-CdUUpRTA.js";import{_ as n,o as s,c as a,e as i}from"./app-Bcaz0a9_.js";const t={},d=i(`<div class="hint-container tip"><p class="hint-container-title">Tips</p><p>If you forget your password, enter the Mongodb database and modify the password in the user table to b0ce71fcbed8a6ca579d52800145119cc7d999dc8651b62dfc1ced9a984e6e64</p></div><p>The system is divided into four services:</p><ul><li>web/server side - used for asset management, task management, etc.</li><li>scan side - used for scanning, can be deployed on multiple machines</li><li>Mongodb-database, as long as web and scan can connect to this database.</li><li>redis-redis, as long as web and scan can connect to this redis.</li></ul><h2 id="database-need-to-build-a-database-yourself-or-use-docker-to-build-a-database" tabindex="-1"><a class="header-anchor" href="#database-need-to-build-a-database-yourself-or-use-docker-to-build-a-database"><span>Database (need to build a database yourself or use docker to build a database)</span></a></h2><div class="hint-container tip"><p class="hint-container-title">Tips</p><p>Please make sure docker and docker-compose are installed</p><p>redis and MongoDb can be installed without docker, just set the account and password by yourself.</p><p>mongodb and redis can be built by yourself without using the docker image provided in this tutorial.</p><p>Version: mongodb: 7.0.4</p><p>redis: 7.0.11</p></div><h3 id="redis" tabindex="-1"><a class="header-anchor" href="#redis"><span>redis</span></a></h3><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>git clone https://github.com/Autumn-27/ScopeSentry-Scan.git</span></span>
<span class="line"><span>cd ScopeSentry-Scan/build</span></span>
<span class="line"><span># Modify REDIS_PASSWORD in .env file</span></span>
<span class="line"><span>docker-compose -f redis-docker-compose.yml up -d</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mongodb" tabindex="-1"><a class="header-anchor" href="#mongodb"><span>MongoDb</span></a></h3><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>git clone https://github.com/Autumn-27/ScopeSentry-Scan.git</span></span>
<span class="line"><span>cd ScopeSentry-Scan/build</span></span>
<span class="line"><span># Modify MONGO_INITDB_ROOT_USERNAME, MONGO_INITDB_ROOT_PASSWORD in .env file</span></span>
<span class="line"><span>docker-compose -f mongodb-docker-compose.yml up -d</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="linux" tabindex="-1"><a class="header-anchor" href="#linux"><span>Linux</span></a></h2><h3 id="web-server-end" tabindex="-1"><a class="header-anchor" href="#web-server-end"><span>Web/Server end</span></a></h3><div class="hint-container tip"><p class="hint-container-title">Tips</p><p>Due to the large amount of built-in data, it takes a while for the database to be initialized.</p><p>Forgot the password to enter the Mongodb database and modify the password in the user table to b0ce71fcbed8a6ca579d52800145119cc7d999dc8651b62dfc1ced9a984e6e64 Reset to ScopeSentry</p></div><h4 id="docker-installation" tabindex="-1"><a class="header-anchor" href="#docker-installation"><span>docker installation</span></a></h4><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>git clone https://github.com/Autumn-27/ScopeSentry-Scan.git</span></span>
<span class="line"><span>cd ScopeSentry-Scan/build</span></span>
<span class="line"><span># Modify the mongodb, redis account password and address port in the .env file</span></span>
<span class="line"><span>docker-compose up -d</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>You can then use <code>docker logs -f container id</code> to view the container log to ensure successful operation.</p><p>Visit http://IP:8082</p><p>During the installation process, the docker log will output the initial user password and the secondary verification password of the plug-in.</p><h4 id="source-code-installation" tabindex="-1"><a class="header-anchor" href="#source-code-installation"><span>Source code installation</span></a></h4><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>git clone https://github.com/Autumn-27/ScopeSentry.git</span></span>
<span class="line"><span>cd ScopeSentry</span></span>
<span class="line"><span>pip install -r requirements.txt</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Create config.yaml in the project root directory</p><p>The content is as follows, modify the connection information of Mongodb and Redis.</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>logs:</span></span>
<span class="line"><span>  total_logs: 1000</span></span>
<span class="line"><span>mongodb:</span></span>
<span class="line"><span>  mongodb_database: ScopeSentry</span></span>
<span class="line"><span>  ip: 127.0.0.1</span></span>
<span class="line"><span>  password: &quot;&quot;</span></span>
<span class="line"><span>  port: 27017</span></span>
<span class="line"><span>  username: admin</span></span>
<span class="line"><span>redis:</span></span>
<span class="line"><span>  ip: 127.0.0.1</span></span>
<span class="line"><span>  password: &quot;&quot;</span></span>
<span class="line"><span>  port: &#39;6379&#39;</span></span>
<span class="line"><span>system:</span></span>
<span class="line"><span>  timezone: Asia/Shanghai</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Finally run the program</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>python3 main.py</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="scan-end" tabindex="-1"><a class="header-anchor" href="#scan-end"><span>scan end</span></a></h3><div class="hint-container tip"><p class="hint-container-title">Tips</p><p>Since the Scan end needs to connect to the database and query the built-in information, it is necessary to wait for the Server end to run successfully (initialize the database) before creating the Scan. Recommended docker installation~</p></div><h4 id="docker-installation-1" tabindex="-1"><a class="header-anchor" href="#docker-installation-1"><span>Docker installation</span></a></h4><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>git clone https://github.com/Autumn-27/ScopeSentry-Scan.git</span></span>
<span class="line"><span>cd ScopeSentry-Scan/build</span></span>
<span class="line"><span># Edit the connection information of Mongdb and Redis in the .env file. NodeName is the node name. Please keep each node name unique (if it is empty, it will be randomly generated and can be changed in the web interface).</span></span>
<span class="line"><span>docker-compose -f scan-docker-compose.yml up -d</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>You can use <code>docker logs -f container id</code> to view the container logs to ensure successful operation.</p><p>After success, the following figure is shown: <img src="`+e+`" alt="alt text"></p><h4 id="run-directly" tabindex="-1"><a class="header-anchor" href="#run-directly"><span>Run directly</span></a></h4><p>Linux has statically compiled and packaged libpcap, no other operations are required</p><p>The crawler relies on the chrome browser reference https://github.com/chaitin/rad</p><p>Download https://github.com/Autumn-27/ScopeSentry-Scan/releases</p><p>The first run will generate a configuration file, modify the database address in the configuration file, NodeName is the node name, each node name should be unique</p><h4 id="compile-and-install" tabindex="-1"><a class="header-anchor" href="#compile-and-install"><span>Compile and install</span></a></h4><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>git clone https://github.com/Autumn-27/ScopeSentry-Scan.git</span></span>
<span class="line"><span>cd ScopeSentry-Scan</span></span>
<span class="line"><span>go build -o dist/ScopeSentry ./cmd/ScopeSentry/main.go</span></span>
<span class="line"><span>cd dist</span></span>
<span class="line"><span>chmod +x ScopeSentry</span></span>
<span class="line"><span>./ScopeSentry</span></span>
<span class="line"><span>#The first run will generate a configuration file, modify the database address in the configuration file, and re-run</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Libpcap needs to be installed Environment</p><p>Download npcap driver for Windows</p><p>Install libpcap for Linux</p><p>Screenshot of successful operation:</p><p><img src="`+e+`" alt="alt text"></p><h2 id="windows" tabindex="-1"><a class="header-anchor" href="#windows"><span>Windows</span></a></h2><h3 id="web-server-side" tabindex="-1"><a class="header-anchor" href="#web-server-side"><span>Web/Server side</span></a></h3><h4 id="source-code-installation-1" tabindex="-1"><a class="header-anchor" href="#source-code-installation-1"><span>Source code installation</span></a></h4><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>git clone https://github.com/Autumn-27/ScopeSentry.git</span></span>
<span class="line"><span>cd ScopeSentry</span></span>
<span class="line"><span>pip install -r requirements.txt</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Create config.yaml in the project root directory</p><p>The content is as follows, modify the connection information of Mongodb and Redis.</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>logs:</span></span>
<span class="line"><span>  total_logs: 1000</span></span>
<span class="line"><span>mongodb:</span></span>
<span class="line"><span>  mongodb_database: ScopeSentry</span></span>
<span class="line"><span>  ip: 127.0.0.1</span></span>
<span class="line"><span>  password: &quot;&quot;</span></span>
<span class="line"><span>  port: 27017</span></span>
<span class="line"><span>  username: admin</span></span>
<span class="line"><span>redis:</span></span>
<span class="line"><span>  ip: 127.0.0.1</span></span>
<span class="line"><span>  password: &quot;&quot;</span></span>
<span class="line"><span>  port: &#39;6379&#39;</span></span>
<span class="line"><span>system:</span></span>
<span class="line"><span>  timezone: Asia/Shanghai</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Finally run the program</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>python3 main.py</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="scan-side" tabindex="-1"><a class="header-anchor" href="#scan-side"><span>Scan side</span></a></h3><p>Libpcap environment needs to be installed</p><p>Windows download npcap driver</p><p>Download https://github.com/Autumn-27/ScopeSentry-Scan/releases</p><p>The first run will generate a configuration file. Modify the database address in the configuration file. NodeName is the node name. Please keep each node name unique</p><h2 id="data-migration" tabindex="-1"><a class="header-anchor" href="#data-migration"><span>Data migration</span></a></h2><p>In the database docker configuration file, there is a mount directory setting, which defaults to the data directory of the current running directory. When migrating data, just migrate the files.</p>`,58),l=[d];function o(r,c){return s(),a("div",null,l)}const h=n(t,[["render",o],["__file","index.html.vue"]]),m=JSON.parse(`{"path":"/en/guide/Distributed/","title":"Distributed","lang":"en-US","frontmatter":{"title":"Distributed","author":"Autumn","icon":"fluent:text-align-distributed-20-regular","createTime":"2024/11/17 22:29:16","permalink":"/en/guide/Distributed/","description":"Tips If you forget your password, enter the Mongodb database and modify the password in the user table to b0ce71fcbed8a6ca579d52800145119cc7d999dc8651b62dfc1ced9a984e6e64 The sy...","head":[["script",{"id":"check-dark-mode"},";(function () {const um= localStorage.getItem('vuepress-theme-appearance') || 'dark';const sm = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;if (um === 'dark' || (um !== 'light' && sm)) {document.documentElement.classList.add('dark');}})();"],["script",{"id":"check-mac-os"},"document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))"],["link",{"rel":"alternate","hreflang":"zh-cn","href":"https://www.scope-sentry.top/guide/Distributed/"}],["meta",{"property":"og:url","content":"https://www.scope-sentry.top/en/guide/Distributed/"}],["meta",{"property":"og:site_name","content":"ScopeSentry"}],["meta",{"property":"og:title","content":"Distributed"}],["meta",{"property":"og:description","content":"Tips If you forget your password, enter the Mongodb database and modify the password in the user table to b0ce71fcbed8a6ca579d52800145119cc7d999dc8651b62dfc1ced9a984e6e64 The sy..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://www.scope-sentry.top/images/image-1.png"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:locale:alternate","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-11-19T13:18:35.000Z"}],["meta",{"property":"article:author","content":"Autumn"}],["meta",{"property":"article:modified_time","content":"2024-11-19T13:18:35.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Distributed\\",\\"image\\":[\\"https://www.scope-sentry.top/images/image-1.png\\",\\"https://www.scope-sentry.top/images/image-1.png\\"],\\"dateModified\\":\\"2024-11-19T13:18:35.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Autumn\\"}]}"]]},"headers":[{"level":2,"title":"Database (need to build a database yourself or use docker to build a database)","slug":"database-need-to-build-a-database-yourself-or-use-docker-to-build-a-database","link":"#database-need-to-build-a-database-yourself-or-use-docker-to-build-a-database","children":[{"level":3,"title":"redis","slug":"redis","link":"#redis","children":[]},{"level":3,"title":"MongoDb","slug":"mongodb","link":"#mongodb","children":[]}]},{"level":2,"title":"Linux","slug":"linux","link":"#linux","children":[{"level":3,"title":"Web/Server end","slug":"web-server-end","link":"#web-server-end","children":[]},{"level":3,"title":"scan end","slug":"scan-end","link":"#scan-end","children":[]}]},{"level":2,"title":"Windows","slug":"windows","link":"#windows","children":[{"level":3,"title":"Web/Server side","slug":"web-server-side","link":"#web-server-side","children":[]},{"level":3,"title":"Scan side","slug":"scan-side","link":"#scan-side","children":[]}]},{"level":2,"title":"Data migration","slug":"data-migration","link":"#data-migration","children":[]}],"readingTime":{"minutes":2.56,"words":769},"git":{"updatedTime":1732022315000,"contributors":[{"name":"Autumn.home","email":"autumn@home.com","commits":2}]},"autoDesc":true,"filePathRelative":"en/notes/guide/Install/Distributed.md","categoryList":[{"type":10000,"name":"notes"},{"type":10001,"name":"guide"},{"type":10002,"name":"Install"}]}`);export{h as comp,m as data};
